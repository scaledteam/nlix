#
# This E2 made by scaled
#

@name lib-object

@persist NULL:table
@persist [OBJECT_TYPE_KEY OBJECT_VALID_KEY]:string

OBJECT_TYPE_KEY = "$type"
OBJECT_VALID_KEY = "$valid"

function number table:isValid() {
    return This:exists(OBJECT_VALID_KEY)
}

function string table:type() {
    return This[OBJECT_TYPE_KEY, string]
}

function table object(Type:string) {
    local Object = table()
    Object[OBJECT_VALID_KEY, number] = 1
    Object[OBJECT_TYPE_KEY, string] = Type
    return Object
}
