#
# This E2 made by scaled
#

@name lib-driver-terminal

function table createVirtualTerminal() {
    local Device = object("virtual-terminal")
    
    Device["new-output", string] = ""
    Device["new-erase", number] = 0
    Device["clear", number] = 0
    
    return Device
}

function number terminalInit() {
    return driverInit("driver-terminal")
}

function terminalPrint(Text:string) {
    local App = varTable("driver-terminal")
    
    App:sendEvent("print")
    App:sendEvent(Text)
}

function terminalErase(Count) {
    local App = varTable("driver-terminal")
    
    App:sendEvent("erase")
    App:sendEvent(Count)
}

function terminalClear() {
    varTable("driver-terminal"):sendEvent("clear")
}


function terminalPrintFast(Text:string) {
    local App = programFindByName("driver-terminal")
    
    App:sendEvent("print")
    App:sendEvent(Text)
}
