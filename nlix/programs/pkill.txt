#
# This E2 made by scaled
#

@name pkill

#[local Program = programFindByName(varArray("args")[1, string])
if (Program != NULL) {
    if (terminalInit()) {
        terminalPrint("Try kill \"" + Program:type() + "\".\n")
    }
    Program:programKill()
}
else {
    if (terminalInit()) {
        terminalPrint("Program don't launched!\n")
    }
}
programKill()]#


switch (P["state", number]) {
    case 0,
        searchStartForOne(Programs, P["args", array][1, string])
        P["state", number] = 1
        break
    
    case 1,
        if (searchLoopForOne()) {
            P["state", number] = 2
        }
        break
    
    case 2,
        local Program = searchGetResult()
        if (Program != NULL) {
            if (terminalInit()) {
                terminalPrint("Try kill \"" + Program:type() + "\".\n")
            }
            Program:programKill()
        }
        else {
            if (terminalInit()) {
                terminalPrint("Program don't launched!\n")
            }
        }
        programKill()
        break
}
