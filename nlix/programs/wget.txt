#
# Created by scaled
#

@name wget

switch (P["state", number]) {
    case 0,
        if (terminalInit()) {
            P["state", number] = 1
        }
        break
    
    case 1,
        httpRequest(P["args", array][1, string])
        P["state", number] = 2
        break
    
    case 2,
        if (httpCanRequest()) {
            #terminalPrint(httpData())
            afileWrite(E["path", string] + "webpage.txt", httpData())
            programKill()
        }
        break
}
