#
# Created by scaled
#

@name ls

if (terminalInit()) {
    switch (P["state", number]) {
        case 0,
            afileListQuery(P["args", array][1, string])
            P["state", number] = 1
            break
        
        case 1,
            if (afileListIsReady()) {
                terminalPrint(afileListGetList():concat("\n") + "\n")
                programKill()
            }
            break
    }
}
