#
# Created by scaled
#

@name dlist

local List = ""
foreach (DeviceName, DeviceList:array = S["devices", table]) {
    List += DeviceName + ": " + DeviceList:count() + "\n"
}

List += "--------\n"

local DevicesById = S["devices", table]["byId", table]
local DevicesByIdKeys = DevicesById:keys()
for (I = 1, DevicesById:count()) {
    local J = DevicesByIdKeys[I, number]
    List += J + ": " + (DevicesById[J, wirelink] != nowirelink() ? "valid" : "invalid") + "\n"
}
out(List)
end()
